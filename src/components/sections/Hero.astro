---
import Section from '@/components/Section.astro'
import { basics } from '@cv'
import Email from '../icons/Email.astro'
import Phone from '../icons/Phone.astro'
import GitHub from '../icons/Github.astro'
import LinkedIn from '../icons/LinkedIn.astro'
import Image from 'astro/components/Image.astro'
import avatar from '@/assets/img/avatar.png';
import Cv from '../icons/Cv.astro'

const {name, label, small, location, email, phone, profiles, cv} = basics
const {address, city, region } = location

const SOCIAL_ICONS: Record<string, any> = {
    GitHub,
    LinkedIn
}
---

<Section>
    <div class="container">
        <div class="info">
            <h1>{name}</h1>
            <h2>{label}</h2>
           
          
            <footer>
                {
                    email && (
                      <a
                        href={`mailto:${email}`}
                        title={`Enviar un correo electrÃ³nico a ${name} al correo ${email}`}
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        <Email />
                      </a>
                    )
                  }
                  {
                    cv && (
                    <a
      href="/documents/cv-2025.pdf"
      target="_blank"
      rel="noopener noreferrer"
    >
                        <Cv />
                      </a>
                    )
                  }
                  {
                    profiles.map(({ network, url }) => {
                      const Icon = SOCIAL_ICONS[network]
          
                      return (
                        <a
                          href={url}
                          title={`Visitar el perfil de ${name} en ${network}`}
                          target="_blank"
                          rel="noopener noreferrer"
                        
                  
                        >
                          <Icon />
                        </a>
                      )
                    })
                  }
            </footer>
            </div>
            <div>
              <Image 
              src={avatar} 
              alt={`Foto de ${name}`} 
              width={300} 
              height={200} 
              style={{ borderRadius: '50%', objectFit: 'cover', aspectRatio: '1/1' }} 
              quality={"max"}
              densities={[1.5, 2]}
              />
            </div>

        </div>
</Section>
<style>
    .container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }
  
    .info {
      display: flex;
      flex-direction: column;
      
      padding-right: 32px;
    }
  
    h1 {
      font-size: 2rem;
    }
  
    h2 {
      color: #444;
      font-weight: 500;
      font-size: 1.1rem;
      text-wrap: balance;
      margin-bottom: 0px;
    }
    small{
      margin-bottom: 15px;
      color: #444;
      opacity: 0.8;
    }
    small:hover{
      opacity: 1;
      padding-left: 4px;
    }
  
    img {
      aspect-ratio: 1 / 1;
      object-fit: cover;
      width: 200px;
      border-radius: 50%;
    }
  
    span {
      color: #666;
      display: flex;
      align-items: center;
      gap: 0.25rem;
      font-size: 0.85rem;
      letter-spacing: -0.05rem;
      margin-bottom: 15px;
    }
  
    footer {
      color: #555;
      font-size: 0.65rem;
      display: flex;
      gap: 4px;
      margin-top: 8px;
    }
  
    footer a {
      color: #777;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid #eee;
      padding: 4px;
      height: 32px;
      width: 32px;
      border-radius: 6px;
      transition: all 0.3s ease;
    }
  
    footer a:hover {
      background: #eee;
      border: 1px solid #ddd;
    }
  
    @media (width <= 700px) {
      .container {
        flex-direction: column-reverse;
      }
  
      .info {
        justify-content: center;
        align-items: center;
        padding-right: 0;
        text-align: center;
      }
  
      h2 {
        text-wrap: balance;
      }
  
      div {
        margin: 0 auto;
      }
    }
  </style>